<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/x-icon" href="index_data/textures/system/freepik_7477497.png">
  <link rel="canonical" href="https://dragonhtmil.github.io/mnts.esc.org/">
  <link rel="manifest" href="" id="manifestTestLoad">
  <title>...</title>
  <link rel="stylesheet" href="index_data/styles/roots.css">
  <link rel="stylesheet" href="index_data/styles/styles.css">
</head>
<body>
  <div class="header-spacer"></div>
  <header>
    <h1 class="title-page" id="title">...</h1>
    <button id="openSettings"><div class="text-effect"></div></button>
    <button id="infouse"><div class="text-effect"></div></button>
  </header>
  <div id="settingsModal" class="modal">
    <div class="modal-content">
      <div class="settings-header-spacer"><h3 id="settingsHeaderTitle">...</h3></div>
      <div class="setting-title" id="langs">...</div>
      <div class="buttons-list">
        <button id="english" class="lang-btn" onclick="setActiveEn();checkSettingsChanges();">...</button>
        <button id="russian" class="lang-btn" onclick="setActiveRu();checkSettingsChanges();">...</button>
        <button id="hebrew" class="lang-btn" onclick="setActiveHe();checkSettingsChanges();">...</button>
      </div>
      <hr>
      <button id="exportEvents">...</button>
      <button id="importButton">...</button>
      <input type="file" id="importFile" accept=".json" style="display:none">
      <button id="settingsApplyer" class="apply-text" style="display: none;" onclick="applySettings();">...</button>
      <button id="closeSettings" class="close-text">...</button>
    </div>
  </div>
  <button id="openModal"><div class="button-bg">üóìÔ∏è</div><div class="plus-sign">+</div></button>
  <div id="emptyState" class="empty-state">
    <p id="emptyTextp">...</p>
    <small id="emptyTextSmall">...</small>
  </div>
  <div id="eventModal" class="modal">
    <div class="modal-content">
      <h3 id="modalTitle">...</h3>
      <input id="eventTitle" placeholder="..." required>
      <textarea id="eventDesc" placeholder="..." style="resize: vertical;"></textarea>
      <input id="eventDate" type="datetime-local" required><span id="requiredText">...</span>
      <input id="eventName" placeholder="...">
      <button id="saveEvent" class="save-text">...</button>
      <button id="closeModal" class="cancel-text">...</button>
    </div>
  </div>
  <div id="useinfoModal" class="modal">
    <div class="modal-content">
      <div id="useInfoText"></div>
      <button id="closeUseInfo" class="close-text">...</button>
    </div>
  </div>
  <div id="modalNotify" class="modal">
    <div class="modal-content">
      <h3 id="notificationTitle">...</h3>
      <p id="notificationMessage">...</p>
      <button id="closeNotifyModal" class="close-text">...</button>
      <div class="confirm-buttons" style="display: none;">
        <button id="confirmYes" class="yes-text">...</button>
        <button id="confirmNo" class="no-text">...</button>
      </div>
    </div>
  </div>
  <div id="eventsContainer"></div>
  <script src="index_data/scripts/registrations.js"></script>
  <script src="index_data/scripts/modal_event.js"></script>
  <script src="index_data/scripts/modal_edit.js"></script>
  <script src="index_data/scripts/modal_infouse.js"></script>
  <script src="index_data/scripts/modal_notifications.js"></script>
  <script src="index_data/scripts/modal_settings.js"></script>
  <script src="index_data/scripts/get_next_event_index.js"></script>
  <script src="index_data/scripts/save_event.js"></script>
  <script src="index_data/scripts/render_events.js"></script>
  <script src="index_data/scripts/create_event_card.js"></script>
  <script src="index_data/scripts/timer.js"></script>
  <script src="index_data/scripts/languages_text_loader.js"></script>
  <script src="index_data/scripts/set_languages_buttons_active.js"></script>
  <script src="index_data/scripts/check_settings_changes.js"></script>
  <script src="index_data/scripts/apply_settings.js"></script>
  <script src="index_data/scripts/export_data.js"></script>
  <script src="index_data/scripts/import_data.js"></script>
  <script src="index_data/scripts/mask_clicked.js"></script>
  <!-- importants be bottom and last -->
  <script src="index_data/scripts/window/dom_content_loaded.js"></script>
  <script src="index_data/scripts/window/error.js"></script>
  <script src="index_data/scripts/window/load.js"></script>
  <script>
    if(navigator.serviceWorker) {
      if(window.location.protocol === 'https:') {
        navigator.serviceWorker.register('/mnts.esc.org/sw.js',{scope: '/mnts.esc.org/'})
        .then(registration => {
          console.log('Service Worker registered with scope:', registration.scope);
        })
        .catch(error => {
          return false
        });
        document.getElementById("manifestTestLoad").setAttribute('href','/mnts.esc.org/manifest.webmanifest');
      }else
      if (window.location.protocol === 'file:') {
        if ('serviceWorker' in navigator) {
          navigator.serviceWorker.register('/sw.js', { scope: '/' })
            .then(registration => {
              console.log('Service Worker registered for local file with scope:', registration.scope);
            })
            .catch(error => {
              return false
            });
            document.getElementById("manifestTestLoad").setAttribute('href','./manifest.webmanifest');
        } else {
          console.log('Service workers are not supported in this environment.');
        }
      } else {
        console.log('Service workers are not being registered on non-HTTPS or non-file protocols.');
      }
    }
  </script>
</body>
</html>